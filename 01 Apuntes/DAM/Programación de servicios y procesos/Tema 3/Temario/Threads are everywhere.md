---
dg-publish: true
---

# Los Hilos están en todas partes 

Incluso si tu programa nunca crea explícitamente un hilo, los frameworks pueden crear hilos en su nombre, y el código llamado desde estos hilos debe ser thread safe. Esto puede suponer una carga significativa durante el diseño y implementación para los desarrolladores, ya que el desarrollo de clases seguras para hilos requiere más cuidado y análisis que el desarrollo de clases no thread safe.

Todas las aplicaciones de Java utilizan hilos. Cuando se inicia la JVM, crea hilos para las tareas de limpieza de la JVM (garbage collection, finalización) y un hilo principal para ejecutar el método principal. Los frameworks de la interfaz de usuario de AWT (Abstract Window Toolkit) y Swing crean hilos para administrar los eventos de la interfaz de usuario. El temporizador crea hilos para ejecutar tareas diferidas. Los frameworks de componentes, como los Servlets y RMI, crean grupos de hilos e invocan métodos de componentes en estos hilos.

Si utilizas estas funciones como muchos desarrolladores, debes estar familiarizado con la concurrencia y thread safe, porque estos frameworks crean hilos y llaman a sus componentes desde ellos. Sería bueno creer que la concurrencia es una característica del lenguaje "opcional" o "avanzada", pero la realidad es que casi todas las aplicaciones Java son multihilo y estos frameworks no te aíslan de la necesidad de coordinar correctamente el acceso al estado de la aplicación. 

Cuando un framework introduce concurrencia en una aplicación, generalmente es imposible restringir el conocimiento de la simultaneidad al código del framework, porque los frameworks, por su naturaleza, hacen devoluciones de llamada a los componentes de la aplicación que, a su vez, acceden al estado de la aplicación. De manera similar, la necesidad de thread safety no termina con los componentes llamados por el framework, se extiende a todas las rutas de código que acceden al estado del programa al que acceden esos componentes. Por lo tanto, la necesidad de seguridad en los hilos es contagiosa. 

Todas las funciones que se describen a continuación hacen que se llame al código de la aplicación desde hilos no administrados por la aplicación. Si bien la necesidad de thread safety puede comenzar con estas instancias, rara vez termina allí; en cambio, se propaga por la aplicación. 

**Temporizador**. El temporizador es un mecanismo conveniente para programar tareas para que se ejecuten en un momento futuro, ya sea una vez o periódicamente. La introducción de un temporizador puede complicar un programa que de otro modo sería secuencial, porque las TimerTasks se ejecutan en un hilo administrado por el temporizador, no por la aplicación. Si un TimerTask accede a datos a los que también acceden otros hilos de la aplicación, entonces no solo el TimerTask debe hacerlo en modo ThreadSafe, sino también cualquier otra clase que acceda a esos datos. A menudo, la forma más fácil de lograr esto es asegurarse de que los objetos a los que accede TimerTask sean ThreadSafe, encapsulando así la seguridad para hilos dentro de los objetos compartidos. Servlets y JavaServer Pages (JSPs). El framework de servlets está diseñado para manejar toda la infraestructura de implementación de una aplicación web y proceso de solicitudes de clientes HTTP remotos. Una solicitud que llega al servidor se envía, quizás mediante una cadena de filtros, al servlet o a la página JSP correspondiente. Cada servlet representa un componente de la lógica de la aplicación y, en sitios web de gran volumen, varios clientes pueden requerir los servicios del mismo servlet a la vez. La especificación de servlets requiere que un servlet esté preparado para ser llamado simultáneamente